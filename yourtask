<Html>  
<head>   

<script>

function validation (){

if(isset($_POST['submit'])){
if (empty($_POST["name"])) {
$nameError = "Name is required";
} 
else 
{
$name = test_input($_POST["name"]);

// check name only contains letters and whitespace

if (!preg_match("/^[a-zA-Z ]*$/",$name)) {
$nameError = "Only letters and white space allowed";
}
}

if (empty($_POST["email"])) {
$emailError = "Email is required";
} 
else 
{

$email = test_input($_POST["email"]);

// check if e-mail address syntax is valid or not

if (!preg_match("/([w-]+@[w-]+.[w-]+)/",$email))
 {
$emailError = "Invalid email format";
}
}
}

</script>

</head>  
<body bgcolor="Lightskyblue">  
<br>  
<br>  
<form method="POST" action="insert.php">  
  
<label> Firstname </label>         
<input type="text" name="firstname" size="15"/> <br> <br>
<label>   
Email 
</label>  
<input type="email" id="email" name="email"/> <br>    
<br> <br>  
<label>   
Phone :  
</label>  
<input type="text" name="country code"  value="+91" size="2"/>   
<input type="text" name="phone" size="10"/> <br> <br>  

<select name="choice">
<option value=<?php
$h = $_GET['id'];?>> 
<?php
$connection = mysql_connect("localhost", "root", ""); // Establishing Connection with Server
$db = mysql_select_db("test", $connection); // Selecting Database
//MySQL Query to read data
$query = mysql_query("select * from state", $connection);
while ($row = mysql_fetch_array($query)) {
$h=$row['pk_int_id'];
echo "<b><a href="accountlogin.php?id={$row['pk_int_id']}">{$row['vchr_state']}</a></b>";
echo "<br/>";
}
?>
</option>

</select>
<label>Country</label>
<select name="choice">
<optgroup value="">
  <option> <?php
if ($h=$_GET['id']) {
$query1 = mysql_query("select * from cntry where fk_int_id=$h", $connection);
while ($row1 = mysql_fetch_array($query1)) {
?></option>
  </optgroup>
</select>

<button class="btn btn-success" type="submit" onClick="validation ();">
SUBMIT
</button>
</form>  
</body>  
</html>  
